[test lar_ci_openold_detsim_dunetpc]
script=$DUNETPC_DIR/test/duneopenold_detsim.sh
inputfiles=/pnfs/dune/mc/dune/simulated/002/singleparticle_antimu_20141105_Simulation009.root
args=singleparticle_antimu_20141105_Simulation009.root
output1=openclose_detsim_dune.root
output2=openclose_detsim_hist_dune.root
parse_art_output=True
mem_usage_range=10:20000000
cpu_usage_range=10:6000

[test lar_ci_openold_reco_dunetpc]
requires=lar_ci_openold_detsim_dunetpc
script=$DUNETPC_DIR/test/duneopenold_reco.sh
output1=openclose_reco_dune.root
output2=openclose_reco_hist_dune.root
parse_art_output=True
mem_usage_range=10:20000000
cpu_usage_range=10:6000


[test lar_ci_prodsingle_dunetpc]
script=${DUNETPC_DIR}/test/prodsingletest.sh
args=
output1=single_dune_gen.root
output2=single_dune_hist.root
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[suite lar_ci_suite_dunetpc]
testlist=lar_ci_prodsingle_dunetpc 

[suite lar_ci_suite2_dunetpc]
testlist=lar_ci_openold_reco_dunetpc 
#testlist=lar_ci_openold_detsim_dunetpc 


[suite default_dunetpc]
testlist=lar_ci_suite_dunetpc lar_ci_suite2_dunetpc



[DEFAULT]
EXPSCRIPT_DUNETPC=ci_regression_test_dunetpc_v2.sh
INPUTFILEDIR_DUNETPC=/pnfs/dune/persistent/users/vito/ci_tests_inputfiles
# Setup for the new CI system
EXPSCRIPT_DUNETPC_NEW=ci_regression_test_dunetpc.sh
CI_EXP_CODE=DUNETPC
IDENTIFIER_DUNETPC=${build_identifier}
PLATFORM_DUNETPC=${build_platform}
REF_DUNETPC=Reference%(PLATFORM_DUNETPC)s%(IDENTIFIER_DUNETPC)s
CUR_DUNETPC=Current%(PLATFORM_DUNETPC)s%(IDENTIFIER_DUNETPC)s
RUN_TEST_DUNETPC=1
CHECK_PRODUCTS_DUNETPC=1
CHECK_PRODUCT_SIZE_DUNETPC=1
TESTMASK_DUNETPC=%(RUN_TEST_DUNETPC)s%(CHECK_PRODUCTS_DUNETPC)s%(CHECK_PRODUCT_SIZE_DUNETPC)s
STDARGS_DUNETPC=--executable lar --nevents %(NEVENTS)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --outputs %(OUTPUT_STREAM)s --reference-files %(REFERENCE_FILES)s --testmask %(TESTMASK_DUNETPC)s
outputdest=/pnfs/dune/scratch/users/vito/ci_tests_outputfiles/



# quick tests DUNE35T
[test ci_gen_regression_test_dune35t]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE=1
STAGE_NAME=gen
TESTMASK=testmask_dune35t.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
OUTPUT_STREAM=AntiMuonCutEvents_LSU_v2_dune35t_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=AntiMuonCutEvents_LSU_v2_dune35t_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/AntiMuonCutEvents_100.txt %(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_g4_regression_test_dune35t]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE=2
STAGE_NAME=g4
TESTMASK=testmask_dune35t.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
INPUT_FILE=AntiMuonCutEvents_LSU_v2_dune35t_Reference_gen_default.root
OUTPUT_STREAM=AntiMuonCutEvents_LSU_v2_dune35t_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=AntiMuonCutEvents_LSU_v2_dune35t_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(INPUT_FILE)s %(INPUTFILEDIR_DUNETPC)s/G4RandomSeeds_Ref_dune35t.dat %(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_detsim_regression_test_dune35t]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE=3
STAGE_NAME=detsim
TESTMASK=testmask_dune35t.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
INPUT_FILE=AntiMuonCutEvents_LSU_v2_dune35t_Reference_g4_default.root
OUTPUT_STREAM=AntiMuonCutEvents_LSU_v2_dune35t_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=AntiMuonCutEvents_LSU_v2_dune35t_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(INPUT_FILE)s %(INPUTFILEDIR_DUNETPC)s/DetSimRandomSeeds_Ref_dune35t.dat %(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_reco_regression_test_dune35t]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE=4
STAGE_NAME=reco
TESTMASK=testmask_dune35t.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
INPUT_FILE=AntiMuonCutEvents_LSU_v2_dune35t_Reference_detsim_default.root
OUTPUT_STREAM=AntiMuonCutEvents_LSU_v2_dune35t_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=AntiMuonCutEvents_LSU_v2_dune35t_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(INPUT_FILE)s %(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_mergeana_regression_test_dune35t]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE=5
STAGE_NAME=mergeana
TESTMASK=testmask_dune35t.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
INPUT_FILE=AntiMuonCutEvents_LSU_v2_dune35t_Reference_reco_default.root
OUTPUT_STREAM=AntiMuonCutEvents_LSU_v2_dune35t_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=AntiMuonCutEvents_LSU_v2_dune35t_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(INPUT_FILE)s %(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:32000000 ;the upperlimit have been increased from 20000000 to 32000000
cpu_usage_range=10:60000


[suite quick_test_dune35t]
testlist=ci_gen_regression_test_dune35t ci_g4_regression_test_dune35t ci_detsim_regression_test_dune35t ci_reco_regression_test_dune35t ci_mergeana_regression_test_dune35t



# quick tests DUNEFD
[test ci_gen_regression_test_dunefd]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE=1
STAGE_NAME=gen
TESTMASK=testmask_dunefd.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
OUTPUT_STREAM=prodgenie_nue_dune10kt_1x2x6_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=prodgenie_nue_dune10kt_1x2x6_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_g4_regression_test_dunefd]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE=2
STAGE_NAME=g4
TESTMASK=testmask_dunefd.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
INPUT_FILE=prodgenie_nue_dune10kt_1x2x6_Reference_gen_default.root
OUTPUT_STREAM=prodgenie_nue_dune10kt_1x2x6_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=prodgenie_nue_dune10kt_1x2x6_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(INPUT_FILE)s %(INPUTFILEDIR_DUNETPC)s/G4RandomSeeds_Ref_dunefd.dat %(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_detsim_regression_test_dunefd]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE=3
STAGE_NAME=detsim
TESTMASK=testmask_dunefd.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
INPUT_FILE=prodgenie_nue_dune10kt_1x2x6_Reference_g4_default.root
OUTPUT_STREAM=prodgenie_nue_dune10kt_1x2x6_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=prodgenie_nue_dune10kt_1x2x6_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(INPUT_FILE)s %(INPUTFILEDIR_DUNETPC)s/DetSimRandomSeeds_Ref_dunefd.dat %(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_reco_regression_test_dunefd]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE=4
STAGE_NAME=reco
TESTMASK=testmask_dunefd.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
INPUT_FILE=prodgenie_nue_dune10kt_1x2x6_Reference_detsim_default.root
OUTPUT_STREAM=prodgenie_nue_dune10kt_1x2x6_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=prodgenie_nue_dune10kt_1x2x6_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(INPUT_FILE)s %(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_mergeana_regression_test_dunefd]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE=5
STAGE_NAME=mergeana
TESTMASK=testmask_dunefd.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
INPUT_FILE=prodgenie_nue_dune10kt_1x2x6_Reference_reco_default.root
OUTPUT_STREAM=prodgenie_nue_dune10kt_1x2x6_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=prodgenie_nue_dune10kt_1x2x6_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(INPUT_FILE)s %(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:32000000 ;the upperlimit have been increased from 20000000 to 32000000
cpu_usage_range=10:60000


[suite quick_test_dunefd]
testlist=ci_gen_regression_test_dunefd ci_g4_regression_test_dunefd ci_detsim_regression_test_dunefd ci_reco_regression_test_dunefd ci_mergeana_regression_test_dunefd



# quick tests protoDUNE
[test ci_gen_regression_test_protoDUNE]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE=1
STAGE_NAME=gen
TESTMASK=testmask_protoDUNE.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
OUTPUT_STREAM=protoDune_pion_2GeV_mono_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=protoDune_pion_2GeV_mono_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/GenRandomSeeds_Ref_protoDUNE.dat %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_g4_regression_test_protoDUNE]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE=2
STAGE_NAME=g4
TESTMASK=testmask_protoDUNE.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
INPUT_FILE=protoDune_pion_2GeV_mono_Reference_gen_default.root
OUTPUT_STREAM=protoDune_pion_2GeV_mono_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=protoDune_pion_2GeV_mono_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(INPUT_FILE)s  %(INPUTFILEDIR_DUNETPC)s/G4RandomSeeds_Ref_protoDUNE.dat %(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_detsim_regression_test_protoDUNE]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE=3
STAGE_NAME=detsim
TESTMASK=testmask_protoDUNE.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
INPUT_FILE=protoDune_pion_2GeV_mono_Reference_g4_default.root
OUTPUT_STREAM=protoDune_pion_2GeV_mono_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=protoDune_pion_2GeV_mono_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(INPUT_FILE)s %(INPUTFILEDIR_DUNETPC)s/DetSimRandomSeeds_Ref_protoDUNE.dat %(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_reco_regression_test_protoDUNE]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE=4
STAGE_NAME=reco
TESTMASK=testmask_protoDUNE.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
INPUT_FILE=protoDune_pion_2GeV_mono_Reference_detsim_default.root
OUTPUT_STREAM=protoDune_pion_2GeV_mono_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=protoDune_pion_2GeV_mono_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(INPUT_FILE)s %(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_mergeana_regression_test_protoDUNE]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
NEVENTS=1
STAGE=5
STAGE_NAME=mergeana
TESTMASK=testmask_protoDUNE.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
INPUT_FILE=protoDune_pion_2GeV_mono_Reference_reco_default.root
OUTPUT_STREAM=protoDune_pion_2GeV_mono_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=protoDune_pion_2GeV_mono_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(INPUT_FILE)s %(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:32000000 ;the upperlimit have been increased from 20000000 to 32000000
cpu_usage_range=10:60000


[suite quick_test_protoDUNE]
testlist=ci_gen_regression_test_protoDUNE ci_g4_regression_test_protoDUNE ci_detsim_regression_test_protoDUNE ci_reco_regression_test_protoDUNE ci_mergeana_regression_test_protoDUNE



[suite quick_test_dunetpc]
testlist=quick_test_dune35t quick_test_dunefd quick_test_protoDUNE



#########################
# sequential tests DUNE35T
[test ci_gen_regression_seq_test_dune35t]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
NEVENTS=10
STAGE=1
STAGE_NAME=gen
TESTMASK=testmask_dune35t.txt
FHiCL_FILE=ci_test_gen_dune35t.fcl
OUTPUT_STREAM=AntiMuonCutEvents_LSU_v2_dune35t_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=AntiMuonCutEvents_LSU_v2_dune35t_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/AntiMuonCutEvents_100.txt %(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_g4_regression_seq_test_dune35t]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
requires=ci_gen_regression_seq_test_dune35t
NEVENTS=10
STAGE=2
STAGE_NAME=g4
TESTMASK=testmask_dune35t.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
INPUT_FILE=../%(requires)s/AntiMuonCutEvents_LSU_v2_dune35t_Current_gen_default.root
OUTPUT_STREAM=AntiMuonCutEvents_LSU_v2_dune35t_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=AntiMuonCutEvents_LSU_v2_dune35t_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/G4RandomSeeds_Ref_dune35t.dat %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_detsim_regression_seq_test_dune35t]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
requires=ci_g4_regression_seq_test_dune35t
NEVENTS=10
STAGE=3
STAGE_NAME=detsim
TESTMASK=testmask_dune35t.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
INPUT_FILE=../%(requires)s/AntiMuonCutEvents_LSU_v2_dune35t_Current_g4_default.root
OUTPUT_STREAM=AntiMuonCutEvents_LSU_v2_dune35t_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=AntiMuonCutEvents_LSU_v2_dune35t_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/DetSimRandomSeeds_Ref_dune35t.dat %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_reco_regression_seq_test_dune35t]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
requires=ci_detsim_regression_seq_test_dune35t
NEVENTS=10
STAGE=4
STAGE_NAME=reco
TESTMASK=testmask_dune35t.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
INPUT_FILE=../%(requires)s/AntiMuonCutEvents_LSU_v2_dune35t_Current_detsim_default.root
OUTPUT_STREAM=AntiMuonCutEvents_LSU_v2_dune35t_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=AntiMuonCutEvents_LSU_v2_dune35t_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_mergeana_regression_seq_test_dune35t]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
requires=ci_reco_regression_seq_test_dune35t
NEVENTS=10
STAGE=5
STAGE_NAME=mergeana
TESTMASK=testmask_dune35t.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
INPUT_FILE=../%(requires)s/AntiMuonCutEvents_LSU_v2_dune35t_Current_reco_default.root
OUTPUT_STREAM=AntiMuonCutEvents_LSU_v2_dune35t_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=AntiMuonCutEvents_LSU_v2_dune35t_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000


[suite seq_test_dune35t]
testlist=ci_gen_regression_seq_test_dune35t ci_g4_regression_seq_test_dune35t ci_detsim_regression_seq_test_dune35t ci_reco_regression_seq_test_dune35t ci_mergeana_regression_seq_test_dune35t



# sequential tests DUNEFD
[test ci_gen_regression_seq_test_dunefd]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
NEVENTS=10
STAGE=1
STAGE_NAME=gen
TESTMASK=testmask_dunefd.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
OUTPUT_STREAM=prodgenie_nue_dune10kt_1x2x6_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=prodgenie_nue_dune10kt_1x2x6_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_g4_regression_seq_test_dunefd]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
requires=ci_gen_regression_seq_test_dunefd
NEVENTS=10
STAGE=2
STAGE_NAME=g4
TESTMASK=testmask_dunefd.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
INPUT_FILE=../%(requires)s/prodgenie_nue_dune10kt_1x2x6_Current_gen_default.root
OUTPUT_STREAM=prodgenie_nue_dune10kt_1x2x6_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=prodgenie_nue_dune10kt_1x2x6_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/G4RandomSeeds_Ref_dunefd.dat %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_detsim_regression_seq_test_dunefd]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
requires=ci_g4_regression_seq_test_dunefd
NEVENTS=10
STAGE=3
STAGE_NAME=detsim
TESTMASK=testmask_dunefd.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
INPUT_FILE=../%(requires)s/prodgenie_nue_dune10kt_1x2x6_Current_g4_default.root
OUTPUT_STREAM=prodgenie_nue_dune10kt_1x2x6_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=prodgenie_nue_dune10kt_1x2x6_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/DetSimRandomSeeds_Ref_dunefd.dat %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_reco_regression_seq_test_dunefd]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
requires=ci_detsim_regression_seq_test_dunefd
NEVENTS=10
STAGE=4
STAGE_NAME=reco
TESTMASK=testmask_dunefd.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
INPUT_FILE=../%(requires)s/prodgenie_nue_dune10kt_1x2x6_Current_detsim_default.root
OUTPUT_STREAM=prodgenie_nue_dune10kt_1x2x6_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=prodgenie_nue_dune10kt_1x2x6_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_mergeana_regression_seq_test_dunefd]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
requires=ci_reco_regression_seq_test_dunefd
NEVENTS=10
STAGE=5
STAGE_NAME=mergeana
TESTMASK=testmask_dunefd.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
INPUT_FILE=../%(requires)s/prodgenie_nue_dune10kt_1x2x6_Current_reco_default.root
OUTPUT_STREAM=prodgenie_nue_dune10kt_1x2x6_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=prodgenie_nue_dune10kt_1x2x6_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000


[suite seq_test_dunefd]
testlist=ci_gen_regression_seq_test_dunefd ci_g4_regression_seq_test_dunefd ci_detsim_regression_seq_test_dunefd ci_reco_regression_seq_test_dunefd ci_mergeana_regression_seq_test_dunefd



# sequential tests protoDUNE
[test ci_gen_regression_seq_test_protoDUNE]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
NEVENTS=10
STAGE=1
STAGE_NAME=gen
TESTMASK=testmask_protoDUNE.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
OUTPUT_STREAM=protoDune_pion_2GeV_mono_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=protoDune_pion_2GeV_mono_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/GenRandomSeeds_Ref_protoDUNE.dat %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_g4_regression_seq_test_protoDUNE]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
requires=ci_gen_regression_seq_test_protoDUNE
NEVENTS=10
STAGE=2
STAGE_NAME=g4
TESTMASK=testmask_protoDUNE.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
INPUT_FILE=../%(requires)s/protoDune_pion_2GeV_mono_Current_gen_default.root
OUTPUT_STREAM=protoDune_pion_2GeV_mono_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=protoDune_pion_2GeV_mono_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/G4RandomSeeds_Ref_protoDUNE.dat %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_detsim_regression_seq_test_protoDUNE]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
requires=ci_g4_regression_seq_test_protoDUNE
NEVENTS=10
STAGE=3
STAGE_NAME=detsim
TESTMASK=testmask_protoDUNE.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
INPUT_FILE=../%(requires)s/protoDune_pion_2GeV_mono_Current_g4_default.root
OUTPUT_STREAM=protoDune_pion_2GeV_mono_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=protoDune_pion_2GeV_mono_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/DetSimRandomSeeds_Ref_protoDUNE.dat %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_reco_regression_seq_test_protoDUNE]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
requires=ci_detsim_regression_seq_test_protoDUNE
NEVENTS=10
STAGE=4
STAGE_NAME=reco
TESTMASK=testmask_protoDUNE.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
INPUT_FILE=../%(requires)s/protoDune_pion_2GeV_mono_Current_detsim_default.root
OUTPUT_STREAM=protoDune_pion_2GeV_mono_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=protoDune_pion_2GeV_mono_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_mergeana_regression_seq_test_protoDUNE]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC)s
requires=ci_reco_regression_seq_test_protoDUNE
NEVENTS=10
STAGE=5
STAGE_NAME=mergeana
TESTMASK=testmask_protoDUNE.txt
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
INPUT_FILE=../%(requires)s/protoDune_pion_2GeV_mono_Current_reco_default.root
OUTPUT_STREAM=protoDune_pion_2GeV_mono_Current_%(STAGE_NAME)s_default.root
REFERENCE_FILE=protoDune_pion_2GeV_mono_Reference_%(STAGE_NAME)s_default.root
args=--executable lar --nevents %(NEVENTS)s --stage %(STAGE)s --stage-name %(STAGE_NAME)s --fhicl %(FHiCL_FILE)s --input %(INPUT_FILE)s --outputs %(OUTPUT_STREAM)s --testmask %(TESTMASK)s
inputfiles=%(INPUTFILEDIR_DUNETPC)s/%(TESTMASK)s %(INPUTFILEDIR_DUNETPC)s/%(REFERENCE_FILE)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000


[suite seq_test_protoDUNE]
testlist=ci_gen_regression_seq_test_protoDUNE ci_g4_regression_seq_test_protoDUNE ci_detsim_regression_seq_test_protoDUNE ci_reco_regression_seq_test_protoDUNE ci_mergeana_regression_seq_test_protoDUNE



[suite seq_test_dunetpc]
testlist=seq_test_dune35t seq_test_dunefd seq_test_protoDUNE



#########################
#########################
# Setup for the new CI system
# quick tests DUNE35T
[test ci_gen_regression_test_dune35t_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
NEVENTS=1
STAGE_NAME=gen
EXTRA_DIR=DUNE35T
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
BASE_FILE_NAME=AntiMuonCutEvents_LSU_v2_dune35t
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/AntiMuonCutEvents_100.txt
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_g4_regression_test_dune35t_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
NEVENTS=1
STAGE_NAME=g4
INPUT_STAGE_NAME=gen
EXTRA_DIR=DUNE35T
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
BASE_FILE_NAME=AntiMuonCutEvents_LSU_v2_dune35t
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/G4RandomSeeds_Ref_dune35t.dat,%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_detsim_regression_test_dune35t_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
NEVENTS=1
STAGE_NAME=detsim
INPUT_STAGE_NAME=g4
EXTRA_DIR=DUNE35T
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
BASE_FILE_NAME=AntiMuonCutEvents_LSU_v2_dune35t
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/DetSimRandomSeeds_Ref_dune35t.dat,%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_reco_regression_test_dune35t_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
NEVENTS=1
STAGE_NAME=reco
INPUT_STAGE_NAME=detsim
EXTRA_DIR=DUNE35T
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
BASE_FILE_NAME=AntiMuonCutEvents_LSU_v2_dune35t
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_mergeana_regression_test_dune35t_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
NEVENTS=1
STAGE_NAME=mergeana
INPUT_STAGE_NAME=reco
EXTRA_DIR=DUNE35T
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
BASE_FILE_NAME=AntiMuonCutEvents_LSU_v2_dune35t
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000


[suite quick_test_dune35t_new]
testlist=ci_gen_regression_test_dune35t_new ci_g4_regression_test_dune35t_new ci_detsim_regression_test_dune35t_new ci_reco_regression_test_dune35t_new ci_mergeana_regression_test_dune35t_new



# quick tests DUNEFD
[test ci_gen_regression_test_dunefd_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
NEVENTS=1
STAGE_NAME=gen
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_g4_regression_test_dunefd_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
NEVENTS=1
STAGE_NAME=g4
INPUT_STAGE_NAME=gen
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/G4RandomSeeds_Ref_dunefd.dat,%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_detsim_regression_test_dunefd_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
NEVENTS=1
STAGE_NAME=detsim
INPUT_STAGE_NAME=g4
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/DetSimRandomSeeds_Ref_dunefd.dat,%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_reco_regression_test_dunefd_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
NEVENTS=1
STAGE_NAME=reco
INPUT_STAGE_NAME=detsim
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_mergeana_regression_test_dunefd_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
NEVENTS=1
STAGE_NAME=mergeana
INPUT_STAGE_NAME=reco
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:32000000 ;the upperlimit have been increased from 20000000 to 32000000
cpu_usage_range=10:60000


[suite quick_test_dunefd_new]
testlist=ci_gen_regression_test_dunefd_new ci_g4_regression_test_dunefd_new ci_detsim_regression_test_dunefd_new ci_reco_regression_test_dunefd_new ci_mergeana_regression_test_dunefd_new



# quick tests protoDUNE
[test ci_gen_regression_test_protoDUNE_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
NEVENTS=1
STAGE_NAME=gen
EXTRA_DIR=protoDUNE
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
BASE_FILE_NAME=protoDune_pion_2GeV_mono
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/GenRandomSeeds_Ref_protoDUNE.dat
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_g4_regression_test_protoDUNE_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
NEVENTS=1
STAGE_NAME=g4
INPUT_STAGE_NAME=gen
EXTRA_DIR=protoDUNE
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
BASE_FILE_NAME=protoDune_pion_2GeV_mono
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/G4RandomSeeds_Ref_protoDUNE.dat,%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_detsim_regression_test_protoDUNE_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
NEVENTS=1
STAGE_NAME=detsim
INPUT_STAGE_NAME=g4
EXTRA_DIR=protoDUNE
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
BASE_FILE_NAME=protoDune_pion_2GeV_mono
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/DetSimRandomSeeds_Ref_protoDUNE.dat,%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_reco_regression_test_protoDUNE_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
NEVENTS=1
STAGE_NAME=reco
INPUT_STAGE_NAME=detsim
EXTRA_DIR=protoDUNE
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
BASE_FILE_NAME=protoDune_pion_2GeV_mono
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_mergeana_regression_test_protoDUNE_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
NEVENTS=1
STAGE_NAME=mergeana
INPUT_STAGE_NAME=reco
EXTRA_DIR=protoDUNE
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
BASE_FILE_NAME=protoDune_pion_2GeV_mono
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(INPUT_STAGE_NAME)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:32000000 ;the upperlimit have been increased from 20000000 to 32000000
cpu_usage_range=10:60000


[suite quick_test_protoDUNE_new]
testlist=ci_gen_regression_test_protoDUNE_new ci_g4_regression_test_protoDUNE_new ci_detsim_regression_test_protoDUNE_new ci_reco_regression_test_protoDUNE_new ci_mergeana_regression_test_protoDUNE_new



[suite quick_test_dunetpc_new]
testlist=quick_test_dune35t_new quick_test_dunefd_new quick_test_protoDUNE_new



#########################
# sequential tests DUNE35T
[test ci_gen_regression_seq_test_dune35t_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
NEVENTS=10
STAGE_NAME=gen
EXTRA_DIR=DUNE35T
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
BASE_FILE_NAME=AntiMuonCutEvents_LSU_v2_dune35t
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/AntiMuonCutEvents_100.txt
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_g4_regression_seq_test_dune35t_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
requires=ci_gen_regression_seq_test_dune35t_new
NEVENTS=10
STAGE_NAME=g4
INPUT_STAGE_NAME=gen
EXTRA_DIR=DUNE35T
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
BASE_FILE_NAME=AntiMuonCutEvents_LSU_v2_dune35t
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/G4RandomSeeds_Ref_dune35t.dat
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_detsim_regression_seq_test_dune35t_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
requires=ci_g4_regression_seq_test_dune35t_new
NEVENTS=10
STAGE_NAME=detsim
INPUT_STAGE_NAME=g4
EXTRA_DIR=DUNE35T
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
BASE_FILE_NAME=AntiMuonCutEvents_LSU_v2_dune35t
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/DetSimRandomSeeds_Ref_dune35t.dat
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_reco_regression_seq_test_dune35t_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
requires=ci_detsim_regression_seq_test_dune35t_new
NEVENTS=10
STAGE_NAME=reco
INPUT_STAGE_NAME=detsim
EXTRA_DIR=DUNE35T
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
BASE_FILE_NAME=AntiMuonCutEvents_LSU_v2_dune35t
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_mergeana_regression_seq_test_dune35t_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
requires=ci_reco_regression_seq_test_dune35t_new
NEVENTS=10
STAGE_NAME=mergeana
INPUT_STAGE_NAME=reco
EXTRA_DIR=DUNE35T
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dune35t.fcl
BASE_FILE_NAME=AntiMuonCutEvents_LSU_v2_dune35t
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000
output1=ana_hist.root


[suite seq_test_dune35t_new]
testlist=ci_gen_regression_seq_test_dune35t_new ci_g4_regression_seq_test_dune35t_new ci_detsim_regression_seq_test_dune35t_new ci_reco_regression_seq_test_dune35t_new ci_mergeana_regression_seq_test_dune35t_new



# sequential tests DUNEFD
[test ci_gen_regression_seq_test_dunefd_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
NEVENTS=10
STAGE_NAME=gen
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000


[test ci_g4_regression_seq_test_dunefd_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
requires=ci_gen_regression_seq_test_dunefd_new
NEVENTS=10
STAGE_NAME=g4
INPUT_STAGE_NAME=gen
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/G4RandomSeeds_Ref_dunefd.dat
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_detsim_regression_seq_test_dunefd_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
requires=ci_g4_regression_seq_test_dunefd_new
NEVENTS=10
STAGE_NAME=detsim
INPUT_STAGE_NAME=g4
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/DetSimRandomSeeds_Ref_dunefd.dat
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_reco_regression_seq_test_dunefd_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
requires=ci_detsim_regression_seq_test_dunefd_new
NEVENTS=10
STAGE_NAME=reco
INPUT_STAGE_NAME=detsim
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_mergeana_regression_seq_test_dunefd_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
requires=ci_reco_regression_seq_test_dunefd_new
NEVENTS=10
STAGE_NAME=mergeana
INPUT_STAGE_NAME=reco
EXTRA_DIR=DUNEFD
FHiCL_FILE=ci_test_%(STAGE_NAME)s_dunefd.fcl
BASE_FILE_NAME=prodgenie_nue_dune10kt_1x2x6
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000
output1=ana_hist.root


[suite seq_test_dunefd_new]
testlist=ci_gen_regression_seq_test_dunefd_new ci_g4_regression_seq_test_dunefd_new ci_detsim_regression_seq_test_dunefd_new ci_reco_regression_seq_test_dunefd_new ci_mergeana_regression_seq_test_dunefd_new



# sequential tests protoDUNE
[test ci_gen_regression_seq_test_protoDUNE_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
NEVENTS=10
STAGE_NAME=gen
EXTRA_DIR=protoDUNE
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
BASE_FILE_NAME=protoDune_pion_2GeV_mono
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/GenRandomSeeds_Ref_protoDUNE.dat
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_g4_regression_seq_test_protoDUNE_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
requires=ci_gen_regression_seq_test_protoDUNE_new
NEVENTS=10
STAGE_NAME=g4
INPUT_STAGE_NAME=gen
EXTRA_DIR=protoDUNE
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
BASE_FILE_NAME=protoDune_pion_2GeV_mono
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/G4RandomSeeds_Ref_protoDUNE.dat
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_detsim_regression_seq_test_protoDUNE_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
requires=ci_g4_regression_seq_test_protoDUNE_new
NEVENTS=10
STAGE_NAME=detsim
INPUT_STAGE_NAME=g4
EXTRA_DIR=protoDUNE
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
BASE_FILE_NAME=protoDune_pion_2GeV_mono
INPUT_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/DetSimRandomSeeds_Ref_protoDUNE.dat
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input-files %(INPUT_FILES)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_reco_regression_seq_test_protoDUNE_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
requires=ci_detsim_regression_seq_test_protoDUNE_new
NEVENTS=10
STAGE_NAME=reco
INPUT_STAGE_NAME=detsim
EXTRA_DIR=protoDUNE
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
BASE_FILE_NAME=protoDune_pion_2GeV_mono
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000

[test ci_mergeana_regression_seq_test_protoDUNE_new]
script=${DUNETPC_DIR}/test/%(EXPSCRIPT_DUNETPC_NEW)s
requires=ci_reco_regression_seq_test_protoDUNE_new
NEVENTS=10
STAGE_NAME=mergeana
INPUT_STAGE_NAME=reco
EXTRA_DIR=protoDUNE
FHiCL_FILE=ci_test_%(STAGE_NAME)s_protoDUNE.fcl
BASE_FILE_NAME=protoDune_pion_2GeV_mono
REFERENCE_FILES=%(INPUTFILEDIR_DUNETPC)s/%(EXTRA_DIR)s/%(STAGE_NAME)s/%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(REF_DUNETPC)s.root
INPUT_STREAM=../%(requires)s/%(BASE_FILE_NAME)s_%(INPUT_STAGE_NAME)s_%(CUR_DUNETPC)s.root
OUTPUT_STREAM=%(BASE_FILE_NAME)s_%(STAGE_NAME)s_%(CUR_DUNETPC)s.root
args=%(STDARGS_DUNETPC)s --input %(INPUT_STREAM)s
parse_art_output=True
mem_usage_range=100:20000000
cpu_usage_range=10:60000
output1=ana_hist.root


[suite seq_test_protoDUNE_new]
testlist=ci_gen_regression_seq_test_protoDUNE_new ci_g4_regression_seq_test_protoDUNE_new ci_detsim_regression_seq_test_protoDUNE_new ci_reco_regression_seq_test_protoDUNE_new ci_mergeana_regression_seq_test_protoDUNE_new



[suite seq_test_dunetpc_new]
testlist=seq_test_dune35t_new seq_test_dunefd_new seq_test_protoDUNE_new
